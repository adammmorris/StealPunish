% Loop through subjects
% Need role, actions, & round #

numSubjects = length(subjMarkers);
numDataPoints = length(id);

curRoles = zeros(numDataPoints,1);
curChoices = zeros(numDataPoints,1);
roundNums = zeros(numDataPoints,1);
subjIDs = zeros(numDataPoints,1);
keep = false(numDataPoints,1);

for thisSubj = 1:numSubjects
    if thisSubj < length(subjMarkers)
        index = subjMarkers(thisSubj):(subjMarkers(thisSubj + 1) - 1);
    else
        index = subjMarkers(thisSubj):length(id);
    end
    
    roundAgainstOpp = 1;
    for i=index
        if i == 1 || ~strcmp(opponents{i}(2:end),opponents{i-1}(2:end))
            roundAgainstOpp = 1;
        end
        
        if roles(i)==ROLE_THIEF && strcmp(opponents{i}(2:end),'pun')
            keep(i) = true;
            curRoles(i) = roles(i);
            curChoices(i) = myActions(i)-1;
            roundNums(i) = roundAgainstOpp;
            subjIDs(i) = id(i);
        end
        
        roundAgainstOpp = roundAgainstOpp + 1;
    end
end

